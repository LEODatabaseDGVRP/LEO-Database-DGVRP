RL: /
Method: GET
Session ID: EpyfwmXz1WrXow09PTCVx8UOpfTn_c-a
Session Cookie from header: undefined
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /
Method: GET
Session ID: ElVJJyVyx5daMqBU_hC6h6-YTNMMY7rR
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /assets/index-C37kGR8N.js
Method: GET
Session ID: Q4NEMX4iRO7e_ksHIL6hdyLLqad0Mm6i
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /assets/index-D0phPA-x.css
Method: GET
Session ID: hAiNwL2T24w1i2UEH7in88K33s5FU1kS
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /api/auth/me
Method: GET
Session ID: 5vv17dLK7dNd2pXlgKisbQpj1OmIKIlE
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
2:37:41 AM [express] GET /api/auth/me 401 in 3ms :: {"message":"Not authenticated"}
=== REQUEST SESSION DEBUG ===
URL: /login
Method: GET
Session ID: k3mLu8PQ9TyPyvSnxgxW1QF7sL6VmZKr
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /favicon.ico
Method: GET
Session ID: 89kVr4jF9LT7J_0WTgiVpdumQaiS2rvO
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /assets/index-C37kGR8N.js
Method: GET
Session ID: _i_bbGtYLbfNQbyVm4qY5P9Qd8V7QbQF
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /assets/index-D0phPA-x.css
Method: GET
Session ID: jGMwoRNGlQS4erwSvvJkD5dhF19zyH_J
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /favicon.ico
Method: GET
Session ID: 5GajoJ6JOLZ2mpDFn8QPtuZaL2Jv_KqH
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /api/auth/me
Method: GET
Session ID: OJ5ni7bKqQXB9QKhqEj2DkcLEWJD19CP
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
2:37:42 AM [express] GET /api/auth/me 401 in 0ms :: {"message":"Not authenticated"}
=== REQUEST SESSION DEBUG ===
URL: /api/auth/discord/status
Method: GET
Session ID: Xb28RMUNe39bikSnQ5I7K1akKoPsBv0H
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== DISCORD STATUS CHECK ===
Session ID: Xb28RMUNe39bikSnQ5I7K1akKoPsBv0H
Cookie header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session cookie name: Xb28RMUNe39bikSnQ5I7K1akKoPsBv0H
Discord verification in session: false
Full session data: {
  "cookie": {
    "originalMaxAge": 7200000,
    "expires": "2025-07-12T04:37:43.533Z",
    "secure": true,
    "httpOnly": true,
    "path": "/",
    "sameSite": "none"
  }
}
Session store has: MemoryStore {
  _events: [Object: null prototype] {
    disconnect: [Function: ondisconnect],
    connect: [Function: onconnect]
  },
  _eventsCount: 2,
  _maxListeners: undefined,
  options: {
    checkPeriod: 86400000,
    max: 100000,
    ttl: undefined,
    dispose: [Function: dispose],
    stale: true,
    noDisposeOnSet: undefined
  },
  serializer: Object [JSON] {},
  store: LRUCache {
    [Symbol(max)]: 100000,
    [Symbol(lengthCalculator)]: [Function: naiveLength],
    [Symbol(allowStale)]: true,
    [Symbol(maxAge)]: 0,
    [Symbol(dispose)]: [Function: dispose],
    [Symbol(noDisposeOnSet)]: false,
    [Symbol(cache)]: Map(0) {},
    [Symbol(lruList)]: Yallist { tail: null, head: null, length: 0 },
    [Symbol(length)]: 0
  },
  _checkInterval: Timeout {
    _idleTimeout: 86400000,
    _idlePrev: [TimersList],
    _idleNext: [TimersList],
    _idleStart: 11509,
    _onTimeout: [Function (anonymous)],
    _timerArgs: undefined,
    _repeat: 86400000,
    _destroyed: false,
    [Symbol(refed)]: false,
    [Symbol(kHasPrimitive)]: false,
    [Symbol(asyncId)]: 975,
    [Symbol(triggerId)]: 0,
    [Symbol(kAsyncContextFrame)]: undefined
  },
  generate: [Function (anonymous)],
  [Symbol(shapeMode)]: false,
  [Symbol(kCapture)]: false
}
No Discord verification found in session
2:37:43 AM [express] GET /api/auth/discord/status 304 in 3ms :: {"verified":false}
=== REQUEST SESSION DEBUG ===
URL: /favicon.ico
Method: GET
Session ID: xJgouNcCtwjqXVmgEiHQXav2lvEuoMeR
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /api/auth/discord/url
Method: GET
Session ID: jBBx1XpzcTTmQziK6Apvo6xVuB1Yj5aV
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
Discord OAuth state generated: discord_1752287865027
Generated Discord auth URL: https://discord.com/api/oauth2/authorize?client_id=1392657393724424313&redirect_uri=https%3A%2F%2Fleo-database-dgvrp.onrender.com%2Fapi%2Fauth%2Fdiscord%2Fcallback&response_type=code&scope=identify+guilds+guilds.members.read&state=discord_1752287865027
2:37:45 AM [express] GET /api/auth/discord/url 200 in 2ms :: {"url":"https://discord.com/api/oauth2/â€¦
=== REQUEST SESSION DEBUG ===
URL: /api/auth/discord/callback?code=avwSwAzlJ3GPBHmwkC6xLOPQq5Ua8c&state=discord_1752287865027
Method: GET
Session ID: 7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session Cookie from header: leo.sid=uesg1nv4qc8vf97bd0g3p
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
Discord callback received - Code: true State: discord_1752287865027
Discord user info: { id: '1378267677134422016', username: 'dgvrp_58897' }
Existing user found: false
Total users in database: 1
New Discord user, storing verification for signup
About to save session with Discord verification: {
  sessionId: '7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv',
  discordId: '1378267677134422016',
  username: 'dgvrp_58897'
}
Discord verification saved successfully, session ID: 7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session cookie being sent: {
  path: '/',
  _expires: 2025-07-12T04:37:50.078Z,
  originalMaxAge: 7200000,
  httpOnly: true,
  secure: true,
  sameSite: 'none'
}
Redirecting to signup with session ID: 7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
2:37:51 AM [express] GET /api/auth/discord/callback 302 in 1158ms
=== REQUEST SESSION DEBUG ===
URL: /signup
Method: GET
Session ID: _pU33hCtzGjqagLbLhndGVrWdX28W8Aj
Session Cookie from header: leo.sid=7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /assets/index-C37kGR8N.js
Method: GET
Session ID: rV1JIk_8wdidlYE-3Vzm1tis4ScUwDtv
Session Cookie from header: leo.sid=7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /assets/index-D0phPA-x.css
Method: GET
Session ID: savyRv1MwzgUHfhX56Kj9_ZXtYtEe-Bx
Session Cookie from header: leo.sid=7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /api/auth/me
Method: GET
Session ID: FmjmrLIqLTfuJLgra4MhvLbbsC9Y9mfL
Session Cookie from header: leo.sid=7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
2:37:51 AM [express] GET /api/auth/me 401 in 1ms :: {"message":"Not authenticated"}
=== REQUEST SESSION DEBUG ===
URL: /favicon.ico
Method: GET
Session ID: FENI5ugEozV5bVLUAcplUTgMDnjY1TsG
Session Cookie from header: leo.sid=7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== REQUEST SESSION DEBUG ===
URL: /api/auth/discord/status
Method: GET
Session ID: jxMqsx6_tpfgThEbUhkgrVm0LQM1XMAY
Session Cookie from header: leo.sid=7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session data keys: [ 'cookie' ]
=== END SESSION DEBUG ===
=== DISCORD STATUS CHECK ===
Session ID: jxMqsx6_tpfgThEbUhkgrVm0LQM1XMAY
Cookie header: leo.sid=7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv
Session cookie name: jxMqsx6_tpfgThEbUhkgrVm0LQM1XMAY
Discord verification in session: false
Full session data: {
  "cookie": {
    "originalMaxAge": 7200000,
    "expires": "2025-07-12T04:37:51.833Z",
    "secure": true,
    "httpOnly": true,
    "path": "/",
    "sameSite": "none"
  }
}
Session store has: MemoryStore {
  _events: [Object: null prototype] {
    disconnect: [Function: ondisconnect],
    connect: [Function: onconnect]
  },
  _eventsCount: 2,
  _maxListeners: undefined,
  options: {
    checkPeriod: 86400000,
    max: 100000,
    ttl: undefined,
    dispose: [Function: dispose],
    stale: true,
    noDisposeOnSet: undefined
  },
  serializer: Object [JSON] {},
  store: LRUCache {
    [Symbol(max)]: 100000,
    [Symbol(lengthCalculator)]: [Function: naiveLength],
    [Symbol(allowStale)]: true,
    [Symbol(maxAge)]: 0,
    [Symbol(dispose)]: [Function: dispose],
    [Symbol(noDisposeOnSet)]: false,
    [Symbol(cache)]: Map(1) { '7wJs-f3qNqtUxHW67tW0kE8lsn03JMZv' => [Node] },
    [Symbol(lruList)]: Yallist { tail: [Node], head: [Node], length: 1 },
    [Symbol(length)]: 1
  },
  _checkInterval: Timeout {
    _idleTimeout: 86400000,
    _idlePrev: [TimersList],
    _idleNext: [TimersList],
    _idleStart: 11509,
    _onTimeout: [Function (anonymous)],
    _timerArgs: undefined,
    _repeat: 86400000,
    _destroyed: false,
    [Symbol(refed)]: false,
    [Symbol(kHasPrimitive)]: false,
    [Symbol(asyncId)]: 975,
    [Symbol(triggerId)]: 0,
    [Symbol(kAsyncContextFrame)]: undefined
  },
  generate: [Function (anonymous)],
  [Symbol(shapeMode)]: false,
  [Symbol(kCapture)]: false
}
No Discord verification found in session
2:37:51 AM [express] GET /api/auth/discord/status 304 in 1ms :: {"verified":false}